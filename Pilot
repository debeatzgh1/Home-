<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Multi-Tab Launcher — debeatzgh1</title>
  <meta name="description" content="Launcher for my GitHub Pages projects with iframe preview, auto carousel, AI summary, and tracking." />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#0f172a;
      --card:#0b1220;
      --muted:#94a3b8;
      --accent:#7c3aed;
      --glass: rgba(255,255,255,0.03);
      --glass-2: rgba(255,255,255,0.02);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
      background:linear-gradient(180deg,#071024 0%, #07122a 60%);
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      padding:28px;
    }

    .container{max-width:1200px;margin:0 auto}

    header{display:flex;align-items:center;gap:16px;margin-bottom:18px}
    .brand{
      display:flex;flex-direction:column;
      gap:4px;
    }
    .title{font-weight:800;font-size:20px;letter-spacing:-0.4px}
    .subtitle{font-size:13px;color:var(--muted)}

    /* Tabs */
    .tabs{display:flex;gap:8px;margin:12px 0 20px}
    .tab{
      background:var(--glass);
      padding:8px 12px;border-radius:10px;border:1px solid rgba(255,255,255,0.03);
      cursor:pointer;color:var(--muted);font-weight:600;font-size:13px;
    }
    .tab.active{background:linear-gradient(90deg,#2b076e,#5b21b6);color:white;box-shadow:0 6px 16px rgba(92,33,182,0.18);transform:translateY(-2px)}

    /* layout */
    .grid{display:grid;grid-template-columns: 1fr 360px; gap:18px; align-items:start}
    .left{min-height:60vh}
    .right{position:relative}

    /* Carousel */
    .carousel{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent); padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);margin-bottom:16px}
    .carousel-viewport{position:relative;overflow:hidden;border-radius:10px}
    .carousel-track{display:flex;transition:transform 650ms cubic-bezier(.2,.9,.2,1)}
    .carousel-item{
      min-width:100%;display:flex;gap:12px;padding:18px;align-items:center;
    }
    .carousel-thumb{width:160px;height:90px;border-radius:8px;flex-shrink:0;overflow:hidden;background:#031029;display:flex;align-items:center;justify-content:center;color:var(--muted);font-weight:700}
    .carousel-meta{flex:1}
    .carousel-meta h3{margin:0 0 6px;font-size:18px}
    .carousel-meta p{margin:0;color:var(--muted);font-size:13px}

    .carousel-controls{display:flex;justify-content:space-between;margin-top:10px;align-items:center}
    .dots{display:flex;gap:6px}
    .dot{width:10px;height:10px;border-radius:10px;background:rgba(255,255,255,0.06);cursor:pointer}
    .dot.active{background:var(--accent);box-shadow:0 6px 12px rgba(124,58,237,0.12)}

    /* cards */
    .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(220px,1fr));gap:12px}
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.03);
      display:flex;flex-direction:column;gap:10px;
    }
    .thumb{
      height:120px;border-radius:8px;background:#031029;display:flex;align-items:center;justify-content:center;color:var(--muted);
      overflow:hidden;position:relative;
    }
    .thumb img{width:100%;height:100%;object-fit:cover;display:block}
    .meta h4{margin:0;font-size:15px}
    .meta p{margin:0;color:var(--muted);font-size:13px}

    .actions{display:flex;gap:8px}
    .btn{
      padding:8px 10px;border-radius:10px;background:var(--glass);border:1px solid rgba(255,255,255,0.03);cursor:pointer;color:#fff;font-weight:600;font-size:13px;
    }
    .btn.ghost{background:transparent;border:1px dashed rgba(255,255,255,0.04);color:var(--muted)}
    .btn.primary{background:linear-gradient(90deg,#7c3aed,#5b21b6);box-shadow:0 8px 24px rgba(92,33,182,0.14)}

    .pulse{
      animation: pulse 1.6s infinite;
    }
    @keyframes pulse {
      0%{ box-shadow: 0 0 0 0 rgba(124,58,237,0.15); }
      70%{ box-shadow: 0 0 0 12px rgba(124,58,237,0); }
      100%{ box-shadow: 0 0 0 0 rgba(124,58,237,0); }
    }

    /* iframe preview */
    .preview{
      background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
      border-radius:12px;padding:12px;border:1px solid rgba(255,255,255,0.03);
      height:60vh;display:flex;flex-direction:column;
    }
    .preview-header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:10px}
    .preview-iframe{flex:1;border-radius:8px;border:1px solid rgba(255,255,255,0.04);overflow:hidden}
    iframe{width:100%;height:100%;border:0}

    .analytics{font-size:12px;color:var(--muted);margin-top:8px;display:flex;gap:12px;align-items:center}
    .summary{background:var(--glass-2);padding:10px;border-radius:10px;font-size:13px;color:var(--muted);max-height:160px;overflow:auto}

    /* responsive */
    @media (max-width:960px){
      .grid{grid-template-columns:1fr;gap:12px}
      .right{order:-1}
    }
  </style>

  <!-- Google Analytics (change MEASUREMENT_ID) -->
  <!-- Replace G-XXXXXXX with your Measurement ID or remove if not using GA -->
  <script>
    window.GA_MEASUREMENT_ID = "G-REPLACE_WITH_YOURS"; // <-- set your GA id here
    (function(){
      if(!window.GA_MEASUREMENT_ID || window.GA_MEASUREMENT_ID.includes("REPLACE")) return;
      // gtag
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments)}
      gtag('js', new Date());
      gtag('config', window.GA_MEASUREMENT_ID);
      var s = document.createElement('script');
      s.async = true;
      s.src = "https://www.googletagmanager.com/gtag/js?id=" + window.GA_MEASUREMENT_ID;
      document.head.appendChild(s);
      window.gtag = gtag;
    })();
  </script>

</head>
<body>
  <div class="container">
    <header>
      <div style="width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,#7c3aed,#06b6d4);display:flex;align-items:center;justify-content:center;font-weight:800;font-size:20px">
        D
      </div>
      <div class="brand">
        <div class="title">DebeatzGH Multi-Tab Launcher</div>
        <div class="subtitle">Quick access, previews, summaries, and tracking — built for GitHub Pages</div>
      </div>
    </header>

    <div class="tabs" role="tablist" aria-label="Filters">
      <button class="tab active" data-filter="all">All</button>
      <button class="tab" data-filter="iframe">Iframe Preview</button>
      <button class="tab" data-filter="newtab">Open New Tab</button>
      <button class="tab" data-filter="featured">Featured (Carousel)</button>
    </div>

    <div class="grid">
      <div class="left">
        <!-- Carousel -->
        <div class="carousel">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
            <div style="font-weight:700">Featured</div>
            <div style="font-size:13px;color:var(--muted)">Auto-slide showcase</div>
          </div>
          <div class="carousel-viewport" id="carouselViewport">
            <div class="carousel-track" id="carouselTrack"></div>
          </div>
          <div class="carousel-controls">
            <div class="dots" id="carouselDots"></div>
            <div style="display:flex;gap:8px">
              <button class="btn ghost" id="prevSlide">Prev</button>
              <button class="btn ghost" id="nextSlide">Next</button>
            </div>
          </div>
        </div>

        <!-- Cards -->
        <div class="cards" id="cardsGrid" aria-live="polite"></div>
      </div>

      <aside class="right">
        <div class="preview" aria-label="Preview area">
          <div class="preview-header">
            <div style="display:flex;gap:8px;align-items:center">
              <div style="font-weight:700">Iframe Preview</div>
              <div style="font-size:12px;color:var(--muted)">Load a site into the embedded frame</div>
            </div>
            <div style="display:flex;gap:8px">
              <button class="btn ghost" id="reloadFrame">Reload</button>
              <button class="btn primary" id="openNewTabPreview">Open in New Tab</button>
            </div>
          </div>
          <div class="preview-iframe" id="previewFrameWrap">
            <iframe id="previewFrame" src=""></iframe>
          </div>

          <div style="display:flex;gap:8px;margin-top:12px">
            <input id="searchInput" placeholder="Filter by title..." style="flex:1;padding:10px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:inherit" />
            <button class="btn" id="clearSearch">Clear</button>
          </div>

          <div class="analytics" style="margin-top:10px">
            <div id="clickCount">Clicks: 0</div>
            <div id="lastAction" style="color:var(--muted)">No actions yet</div>
          </div>

          <div style="margin-top:12px">
            <div style="font-weight:700;margin-bottom:8px">AI Summary</div>
            <div style="display:flex;gap:8px;margin-bottom:8px">
              <button class="btn" id="summarizeBtn">Summarize current preview</button>
              <button class="btn ghost" id="openAIConfig">Use OpenAI (serverless)</button>
            </div>
            <div class="summary" id="summaryBox">No summary yet. Click "Summarize current preview" — uses a public CORS proxy to fetch page HTML and returns the first 2–3 sentences as a quick summary (works best on text-based pages).</div>
          </div>
        </div>
      </aside>
    </div>
  </div>

<script>
/*
  CONFIG
  - Edit the "sites" array below to add/remove pages.
  - Update GA_MEASUREMENT_ID at top of file.
  - For better AI summaries (OpenAI) add a serverless function and set OPENAI_ENDPOINT below and it will POST { url } to your server to summarize.
*/
const OPENAI_ENDPOINT = ""; // Optional: set to your serverless summary endpoint (POST { url })
const sites = [
  { title: "Home 1", url: "https://debeatzgh1.github.io/1/", desc:"Landing demo and index.", thumb: "https://via.placeholder.com/320x180.png?text=Home+1", tags:["iframe","newtab"], featured:true },
  { title: "AI Chat", url: "https://debeatzgh1.github.io/ai-chat/", desc:"An AI chat demo.", thumb: "https://via.placeholder.com/320x180.png?text=AI+Chat", tags:["iframe","newtab"], featured:true },
  { title: "Posts", url: "https://debeatzgh1.github.io/posts/", desc:"Blog posts and updates.", thumb: "https://via.placeholder.com/320x180.png?text=Posts", tags:["iframe","newtab"] },
  { title: "Personal Portfolio", url: "https://debeatzgh1.github.io/Personal-Portfolio-site-/", desc:"Portfolio site.", thumb: "https://via.placeholder.com/320x180.png?text=Portfolio", tags:["iframe","newtab"] },
  { title: "Collaborators Hub", url: "https://debeatzgh1.github.io/Debeatzgh-Collaborators-Hub/", desc:"Collaborator portal.", thumb: "https://via.placeholder.com/320x180.png?text=Hub", tags:["iframe","newtab"] },
  { title: "Decode AI Starter", url: "https://debeatzgh1.github.io/Decode-AI-starter-kit-/", desc:"Starter kit for AI projects.", thumb: "https://via.placeholder.com/320x180.png?text=Decode+AI", tags:["iframe","newtab"] },
  { title: "Guide to Side Hustle", url: "https://debeatzgh1.github.io/The-Ultimate-Guide-to-Side-Hustle/", desc:"Guides and resources.", thumb: "https://via.placeholder.com/320x180.png?text=Side+Hustle", tags:["iframe","newtab"] },
  { title: "Firebase UI", url: "https://debeatzgh1.github.io/firebase-front-end-components/", desc:"Reusable components.", thumb: "https://via.placeholder.com/320x180.png?text=Firebase+UI", tags:["iframe","newtab"] },
  { title: "Sales", url: "https://debeatzgh1.github.io/sales/", desc:"Sales pages.", thumb: "https://via.placeholder.com/320x180.png?text=Sales", tags:["iframe","newtab"] },
  { title: "Me", url: "https://debeatzgh1.github.io/me-/", desc:"About me page.", thumb: "https://via.placeholder.com/320x180.png?text=Me", tags:["iframe","newtab"] },
  { title: "DebeatzGH", url: "https://debeatzgh1.github.io/debeatzgh/", desc:"Project hub.", thumb: "https://via.placeholder.com/320x180.png?text=DebeatzGH", tags:["iframe","newtab"] },
  { title: "Side Hustle Kit", url: "https://debeatzgh1.github.io/Side-hustle-starter-kit-/", desc:"Starter kit.", thumb: "https://via.placeholder.com/320x180.png?text=Starter+Kit", tags:["iframe","newtab"] },
  { title: "Online Business Kit", url: "https://debeatzgh1.github.io/Online-business-kit/", desc:"Business resources.", thumb: "https://via.placeholder.com/320x180.png?text=Business+Kit", tags:["iframe","newtab"] },
  { title: "Tailwind Homepage", url: "https://debeatzgh1.github.io/Modern-homepage-styling-with-TailwindCSS-/", desc:"Styling guide.", thumb: "https://via.placeholder.com/320x180.png?text=Tailwind+Guide", tags:["iframe","newtab"] },
  { title: "Menu Widget", url: "https://debeatzgh1.github.io/menu-widget-/", desc:"UI widget.", thumb: "https://via.placeholder.com/320x180.png?text=Menu+Widget", tags:["iframe","newtab"] },
  { title: "MB Online", url: "https://debeatzgh1.github.io/MB--online-/", desc:"Marketplace demo.", thumb: "https://via.placeholder.com/320x180.png?text=MB+Online", tags:["iframe","newtab"] },
  { title: "Popup Generator", url: "https://debeatzgh1.github.io/popup-html-page-generator-blogger/", desc:"Popup generator tool.", thumb: "https://via.placeholder.com/320x180.png?text=Popup+Gen", tags:["iframe","newtab"] },
  { title: "Floating Dock", url: "https://debeatzgh1.github.io/-Floating-Dock-Smart-Iframe-Modal/#", desc:"Floating dock demo.", thumb: "https://via.placeholder.com/320x180.png?text=Floating+Dock", tags:["iframe","newtab"] }
];

// Simple local tracking
let clickCounter = Number(localStorage.getItem('launcher_clicks')||0);
const updateTrackingUI = (action) => {
  clickCounter++;
  localStorage.setItem('launcher_clicks', clickCounter);
  document.getElementById('clickCount').innerText = 'Clicks: ' + clickCounter;
  document.getElementById('lastAction').innerText = action + ' • ' + (new Date()).toLocaleTimeString();
  // send to gtag if configured
  if(window.gtag) {
    window.gtag('event','launcher_interaction',{event_category:'launcher',event_label:action});
  }
};

// Build UI
const cardsGrid = document.getElementById('cardsGrid');
const previewFrame = document.getElementById('previewFrame');
const previewFrameWrap = document.getElementById('previewFrameWrap');
const openNewTabPreviewBtn = document.getElementById('openNewTabPreview');
const reloadFrameBtn = document.getElementById('reloadFrame');
const summaryBox = document.getElementById('summaryBox');

function createCard(site){
  const el = document.createElement('div');
  el.className = 'card';
  el.innerHTML = `
    <div class="thumb">
      <img loading="lazy" src="${site.thumb}" alt="${site.title} thumbnail" />
    </div>
    <div class="meta">
      <h4>${site.title}</h4>
      <p>${site.desc}</p>
    </div>
    <div style="display:flex;justify-content:space-between;align-items:center">
      <div class="actions">
        <button class="btn primary" data-action="iframe" title="Open in iframe">Preview</button>
        <button class="btn ghost" data-action="newtab" title="Open in new tab">Open</button>
        <button class="btn" data-action="summary" title="AI summary">Summary</button>
      </div>
    </div>
  `;
  // wiring actions
  el.querySelector('[data-action="iframe"]').addEventListener('click', () => {
    loadPreview(site.url);
    updateTrackingUI('Preview: ' + site.title);
    // set pulse animation temporarily
    el.querySelector('.thumb').classList.add('pulse');
    setTimeout(()=>el.querySelector('.thumb').classList.remove('pulse'), 1600);
  });
  el.querySelector('[data-action="newtab"]').addEventListener('click', () => {
    window.open(site.url, '_blank', 'noopener');
    updateTrackingUI('Open New Tab: ' + site.title);
  });
  el.querySelector('[data-action="summary"]').addEventListener('click', () => {
    summarizeUrl(site.url);
    updateTrackingUI('Summary requested: ' + site.title);
  });

  return el;
}

function renderCards(filter='all', query=''){
  cardsGrid.innerHTML = '';
  const list = sites.filter(s => {
    if(filter === 'iframe') return s.tags.includes('iframe');
    if(filter === 'newtab') return s.tags.includes('newtab');
    if(filter === 'featured') return s.featured;
    return true;
  }).filter(s => s.title.toLowerCase().includes(query.toLowerCase()));
  if(list.length === 0){
    cardsGrid.innerHTML = '<div style="color:var(--muted)">No results</div>';
    return;
  }
  for(const s of list){
    cardsGrid.appendChild(createCard(s));
  }
}

// preview iframe
let currentPreview = null;
function loadPreview(url){
  // Use srcdoc trick for internal or same origin? We'll just set src
  previewFrame.src = url;
  currentPreview = url;
  updatePreviewButtons();
}

function updatePreviewButtons(){
  openNewTabPreviewBtn.onclick = ()=>{ if(currentPreview) window.open(currentPreview,'_blank','noopener'); updateTrackingUI('Open new tab from preview: '+currentPreview); }
  reloadFrameBtn.onclick = ()=>{ if(currentPreview) { previewFrame.src = currentPreview; updateTrackingUI('Reload preview: '+currentPreview); } };
}

document.getElementById('searchInput').addEventListener('input', (e)=> {
  renderCards(document.querySelector('.tab.active').dataset.filter || 'all', e.target.value);
});
document.getElementById('clearSearch').addEventListener('click', ()=>{ document.getElementById('searchInput').value=''; renderCards(document.querySelector('.tab.active').dataset.filter || 'all', ''); });

// Tabs
document.querySelectorAll('.tab').forEach(t => {
  t.addEventListener('click', ()=> {
    document.querySelectorAll('.tab').forEach(tt => tt.classList.remove('active'));
    t.classList.add('active');
    const filter = t.dataset.filter;
    renderCards(filter, document.getElementById('searchInput').value);
    // For featured switch, also jump to carousel
    if(filter === 'featured') {
      // show only featured in cards as well
      renderCards('featured', document.getElementById('searchInput').value);
    }
  });
});

// Carousel Implementation
const carouselTrack = document.getElementById('carouselTrack');
const carouselDots = document.getElementById('carouselDots');
const featured = sites.filter(s=>s.featured);
let slideIndex = 0;
function buildCarousel(){
  carouselTrack.innerHTML = '';
  carouselDots.innerHTML = '';
  if(featured.length === 0){
    carouselTrack.innerHTML = `<div class="carousel-item"><div style="padding:18px">No featured items</div></div>`;
    return;
  }
  featured.forEach((s, i) => {
    const item = document.createElement('div');
    item.className = 'carousel-item';
    item.innerHTML = `
      <div class="carousel-thumb">
        <img src="${s.thumb}" alt="${s.title}" style="width:100%;height:100%;object-fit:cover"/>
      </div>
      <div class="carousel-meta">
        <h3>${s.title}</h3>
        <p>${s.desc}</p>
        <div style="margin-top:10px;display:flex;gap:8px">
          <button class="btn primary" data-url="${s.url}">Preview</button>
          <button class="btn ghost" data-url="${s.url}">Open</button>
        </div>
      </div>
    `;
    carouselTrack.appendChild(item);
    const dot = document.createElement('div');
    dot.className = 'dot' + (i===0? ' active':'');
    dot.addEventListener('click', ()=>{ goToSlide(i); pauseAutoSlide(); });
    carouselDots.appendChild(dot);
    // action buttons
    item.querySelectorAll('button').forEach(btn => {
      btn.addEventListener('click',(ev)=>{
        const u = ev.currentTarget.dataset.url;
        if(ev.currentTarget.classList.contains('primary')){
          loadPreview(u
